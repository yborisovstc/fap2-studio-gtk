<?xml version="1.0" ?>

<!-- Unit test for ceation of system. System includes connpoint with roles specified.
     So System supports different "type" of relations (roled relations)
     This test is just for conn points connection
     -->


<!DOCTYPE node SYSTEM "/usr/share/grayb/conf/objspec.dtd"> 

<node id="test" parent="Syst">

    <node id="Logspec" parent="Elem"> <node id="Creation" parent="Elem"/> </node>

    <!-- Module containing components of system layer -->
    <move id="file:/usr/share/grayb/modules/syst.xml#SysComps" />

    <node id="Syst1" parent="Syst">
	<node id="Logspec" parent="Elem">
	    <node id="Creation" parent="Elem">
	    </node>
	</node>
	<node id="Inp1" parent="../SysComps/ConnPointInp"> 
	    <cont node="Provided" val="Role2"/> <cont node="Required" val="Role1"/>
	</node>
	<node id="cp" parent="../SysComps/ConnPointOut"> 
	    <cont node="Provided" val="Role1"/> <cont node="Required" val="Role2"/>
	</node>
	<node id="ep" parent="../SysComps/Extender"> 
	    <cont node="Int/Provided" val="Role4"/> <cont node="Int/Required" val="Role3"/>
	</node>
    </node>

    <node id="Syst2" parent="Syst">
	<node id="Logspec" parent="Elem">
	    <node id="Creation" parent="Elem">
	    </node>
	</node>
	<node id="cp" parent="../SysComps/ConnPoint"> 
	    <cont node="Provided" val="Role2"/> <cont node="Required" val="Role1"/>
	</node>
    </node>


    <node id="cp_inp1" parent="SysComps/ConnPointInp"> 
	<cont node="Provided" val="Role1"/> <cont node="Required" val="Role2"/></node>
    <node id="cp1" parent="SysComps/ConnPoint"> 
	<cont node="Provided" val="Role1"/> <cont node="Required" val="Role2"/></node>
    <node id="cp2" parent="SysComps/ConnPoint"> 
	<cont node="Provided" val="Role2"/> <cont node="Required" val="Role1"/></node>
    <node id="cp3" parent="SysComps/ConnPoint"> 
	<cont node="Provided" val="Role4"/> <cont node="Required" val="Role3"/></node>

    <node id="EE" parent="Edge"/>
    <node id="EI1" parent="Edge"> <cont node="P1" val="../../cp_inp1"/> <cont node="P2" val="../../cp2"/> </node>
    <node id="E1" parent="Edge"> <cont node="P1" val="../../cp1"/> <cont node="P2" val="../../cp2"/> </node>
    <node id="E2" parent="Edge"> <cont node="P1" val="../../Syst1/cp"/> <cont node="P2" val="../../Syst2/cp"/> </node>
    <node id="E3" parent="Edge"> <cont node="P1" val="../../Syst1/cp"/> <cont node="P2" val="../../cp2"/> </node>
    <node id="E4" parent="Edge"> <cont node="P1" val="../../Syst1/ep"/> <cont node="P2" val="../../cp3"/> </node>
    <!--
    -->

</node>

